# üöÄ AskSmartBuddy

AskSmartBuddy is an Alexa Skill integrated with OpenAI's ChatGPT to create a powerful conversational assistant.  
It allows users to ask open-ended, complex questions ‚Äî way beyond traditional Alexa skills ‚Äî and get dynamic, intelligent answers generated by ChatGPT.

Built with ‚ù§Ô∏è using:
- **Alexa Skills Kit (ASK)**
- **Node.js** (AWS Lambda Function)
- **OpenAI's ChatGPT API**
- **Native HTTPS Requests** (no external libraries like axios)

---

## üìö Project Overview

Unlike typical Alexa skills that work only with predefined intents and fixed answers, **AskSmartBuddy** dynamically fetches live answers from OpenAI‚Äôs ChatGPT based on the user's query ‚Äî creating a real, interactive conversational experience on Alexa.

---

## üõ† How I Built It ‚Äî Step by Step

### 1. Setup Alexa Developer Console
- Visit [developer.amazon.com/alexa](https://developer.amazon.com/alexa) and create a new **Custom** Alexa Skill.
- Name the skill: `AskSmartBuddy`.
- Choose **Provision your own backend resources** (not Alexa-hosted).
- Set the default language to **English (US)**.

### 2. Create the Interaction Model (Intents)
- Added the following intents:
  - **LaunchRequest** (for initial welcome message).
  - **ChatGPTIntent** (main intent to handle user questions).
    - Added a **slot** named `query` with slot type `AMAZON.SearchQuery`.
  - **Built-in Intents**:
    - `AMAZON.HelpIntent`
    - `AMAZON.CancelIntent`
    - `AMAZON.StopIntent`
    - `AMAZON.FallbackIntent`
- Saved and built the interaction model.

### 3. Setup AWS Lambda Backend
- Created a Node.js project locally.
- Installed `ask-sdk-core` package for Alexa development.
- Developed custom handlers:
  - `LaunchRequestHandler`
  - `ChatGPTIntentHandler`
  - `HelpIntentHandler`
  - `CancelAndStopIntentHandler`
  - `FallbackIntentHandler`
  - `SessionEndedRequestHandler`
- Implemented HTTPS POST requests to OpenAI's API using the native `https` Node.js module (no external libraries).

### 4. Fetching OpenAI API Response (Hard Part üòÖ)
- Wrote a manual HTTPS request to OpenAI API inside Lambda.
- Used the `gpt-3.5-turbo` model for better conversational answers.
- Ensured to send the user's query from Alexa to OpenAI API and receive back a dynamic response.

### 5. Problems Faced ‚ùó
| Problem | How I Solved It |
| :--- | :--- |
| **Alexa Timeout** (OpenAI was slow sometimes) | Optimized prompts and added a timeout fallback. |
| **Slot Value Missing** (User didn't say anything clearly) | Added a check if `query` slot is missing, and reprompted user. |
| **HTTPS Fetch Errors** | Added proper `.on('error')` handling on HTTPS request. |
| **Exposing OpenAI Key** | Used environment variables securely instead of hardcoding. |
| **Skill Testing vs Real Devices** | Fine-tuned prompts, reprompts, and speech responses for real device behavior. |
| **Long Responses** | Trimmed or summarized responses when needed to avoid Alexa session closing abruptly. |

### 6. Deploy Lambda Function
- Created a new AWS Lambda function with Node.js 18.x runtime.
- Set basic execution role (IAM) for Lambda.
- Deployed the code.
- Copied Lambda ARN and linked it to the Alexa Skill Endpoint.

### 7. Testing and Debugging
- Used Alexa Developer Console to simulate conversation flows.
- Monitored logs via AWS CloudWatch to debug issues.
- Tested on a real Alexa device (Echo Dot) for final validation.

---

## üìã How To Set Up Yourself

1. **Create a Skill** on Alexa Developer Console (Custom Skill).
2. **Clone this repo** to your local machine.
3. **Update your OpenAI API key** inside the Lambda code (`OPENAI_API_KEY`).
4. **import this to AWS Lambda after zipping this project** (Node.js 18.x runtime).
5. **Link your Skill** Endpoint to Lambda ARN.
6. **Create ChatGPTIntent** with a `query` slot (AMAZON.SearchQuery).
7. **Save, Build, deploy code and Test** the skill.

---

## üî• Future Improvements
- Implement multi-turn conversation memory (session-based).
- Add YouTube search and play functionality using Account Linking.
- Introduce voice selection options (male/female/celebrity voices) via SSML.
- Break long ChatGPT answers into multiple Alexa responses automatically.

---

## üìå Final Notes

- This project was started and built **in a single day** üöÄ.
- Combining **Alexa Skills** and **ChatGPT** unleashes new possibilities for voice-based AI assistants.
- Goal: make Alexa truly intelligent, beyond pre-programmed responses.

---

# üí¨ Feedback

If you like this project, please consider giving it a ‚≠ê star!  
Open to collaborations, suggestions, and crazy ideas üöÄüî•

---
